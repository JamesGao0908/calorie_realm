(this.webpackJsonpcalorie=this.webpackJsonpcalorie||[]).push([[0],{233:function(e,t,a){},234:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),o=(a(233),a(234),a(69)),s=a(70),l=a(77),d=a(76),j=a(29),u=a(40),b=a(208),p=a(117),h=a(105),m=a(8),x=a(53),O=a(393),g=a(394),f=a(395),v=a(396),y=a(193),w=a.n(y),S=a(100),C=a(416),k=a(195),D=a.n(k),I=a(415),N=a(397),_=a(398),B=a(194),L=a.n(B),R=a(387),F=a(390),W=a(391),P=a(392),Y=a(188),J=a.n(Y),E=a(142),M=a.n(E),T=a(189),q=a.n(T),z=a(191),A=a.n(z),G=a(190),U=a.n(G),H=a(5),V=Object(H.jsxs)("div",{children:[Object(H.jsx)(x.b,{to:"/dashboard",children:Object(H.jsxs)(R.a,{button:!0,children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(J.a,{})}),Object(H.jsx)(W.a,{primary:"Dashboard"})]})}),Object(H.jsx)(x.b,{to:"/calendar",children:Object(H.jsxs)(R.a,{button:!0,children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(q.a,{})}),Object(H.jsx)(W.a,{primary:"Graphies"})]})}),Object(H.jsx)(x.b,{to:"/record",children:Object(H.jsxs)(R.a,{button:!0,children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(U.a,{})}),Object(H.jsx)(W.a,{primary:"record"})]})}),Object(H.jsx)(x.b,{to:"/setting",children:Object(H.jsxs)(R.a,{button:!0,children:[Object(H.jsx)(F.a,{children:Object(H.jsx)(A.a,{})}),Object(H.jsx)(W.a,{primary:"setting"})]})})]}),X=(P.a,R.a,F.a,M.a,W.a,R.a,F.a,M.a,W.a,R.a,F.a,M.a,W.a,a(192)),K=a.n(X),Q=Object(O.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbar:{paddingRight:24,textAlign:"center"},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Z(){var e=Q(),t=r.a.useState(!0),a=Object(b.a)(t,2),n=a[0],i=a[1],c=Object(u.d)((function(e){return e.toJS().dashboard.userData.profileURL})),o=Object(u.c)();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(g.a,{position:"absolute",className:Object(m.a)(e.appBar,n&&e.appBarShift),children:Object(H.jsxs)(f.a,{className:e.toolbar,children:[Object(H.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},className:Object(m.a)(e.menuButton,n&&e.menuButtonHidden),children:Object(H.jsx)(w.a,{})}),Object(H.jsx)(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dashboard"}),Object(H.jsx)(x.b,{to:"/",children:Object(H.jsx)(L.a,{style:{color:"white"},onClick:function(){K.a.remove("token"),o({type:"signIn_logout"})}})})]})}),Object(H.jsxs)(I.a,{variant:"permanent",classes:{paper:Object(m.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n,children:[Object(H.jsxs)("div",{className:e.toolbarIcon,style:{justifyContent:"flex-start",position:"relative"},children:[Object(H.jsx)(C.a,{alt:"profile img",src:c||"https://cn.portal-pokemon.com/play/resources/pokedex/img/pm/2b3f6ff00db7a1efae21d85cfb8995eaff2da8d8.png",style:{position:"absolutet",left:"50%",transform:"translate(-50%)"}}),Object(H.jsx)(v.a,{onClick:function(){i(!1)},style:{marginLeft:"auto"},children:Object(H.jsx)(D.a,{})})]}),Object(H.jsx)(N.a,{}),Object(H.jsx)(_.a,{children:V})]})]})}var $=a(9),ee=a(399),te=(a(166),a(411)),ae=a(406),ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getListData=function(e){var t,a=e.format("YYYY-MM-DD");return n.props.recorders.map((function(e){if(n.formatchanger(e.date)===a){var r=e.calorie_A+e.calorie_B+e.calorie_C,i=e.weight,c=""===n.props.limitationRecord?n.props.limitationDash:n.props.limitationRecord;t=r>c?r<=c+500?[{type:"warning",content:"\u6444\u5165".concat(r,"\u5361")},{type:"success",content:"\u4f53\u91cd ".concat(i)}]:[{type:"error",content:"\u6444\u5165".concat(r,"\u5361")},{type:"success",content:"\u4f53\u91cd ".concat(i)}]:[{type:"success",content:"\u6444\u5165".concat(r,"\u5361")},{type:"success",content:"\u4f53\u91cd ".concat(i)}]}return t})),t||[]},n.dateCellRender=function(e){var t=n.getListData(e);return Object(H.jsx)("ul",{className:"events",children:t.map((function(e){return Object(H.jsx)("li",{children:Object(H.jsx)(te.a,{status:e.type,text:e.content})},e.content)}))})},n.formatchanger=function(e){return e.substring(0,4)+"-"+e.substring(5,7)+"-"+e.substring(8,10)},n.state={data:"",recorders:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return this.props.data.signIn.loginStatus?Object(H.jsxs)("div",{className:e.root,children:[Object(H.jsx)(ee.a,{}),Object(H.jsx)(Z,{}),Object(H.jsxs)("main",{className:e.content,children:[Object(H.jsx)("div",{className:e.appBarSpacer}),Object(H.jsxs)("div",{children:[" ",Object(H.jsx)(ae.a,{style:{margin:"20px 30px"},dateCellRender:this.dateCellRender})," "]})]})]}):Object(H.jsx)(j.a,{to:"/"})}}]),a}(r.a.Component),re=Object(u.b)((function(e){return{data:e.toJS(),recorders:e.toJS().dashboard.recorders,limitationRecord:e.toJS().dashboard.dailyLimitation,limitationDash:e.toJS().dashboard.dailyLimitation}}),(function(e){return{handleLoadDashboardInfo:function(e){},handleLoadDailyLimitation:function(e){}}}))(Object($.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}))(ne)),ie=a(402),ce=a(407),oe=a(400),se=a(350),le=a(408),de=a(401),je=a(136),ue=a.n(je),be=a(135),pe=a.n(be),he=function(e){return{type:"load_user_info",data:e}};function me(){return Object(H.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(H.jsx)(oe.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var xe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",pwd:"",rememberme:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.classes;return!1===this.props.login?Object(H.jsxs)(de.a,{container:!0,component:"main",className:t.root,children:[Object(H.jsx)(ee.a,{}),Object(H.jsx)(de.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(H.jsx)(de.a,{item:!0,xs:12,sm:8,md:5,component:se.a,elevation:6,square:!0,children:Object(H.jsxs)("div",{className:t.paper,children:[Object(H.jsx)(C.a,{className:t.avatar,children:Object(H.jsx)(ue.a,{})}),Object(H.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(H.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){return e.props.handleLogin(t,e.state.email,e.state.pwd,e.state.rememberme)},children:[Object(H.jsx)(ce.a,{onChange:function(t){return e.setState({email:t.target.value})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(H.jsx)(ce.a,{onChange:function(t){return e.setState({pwd:t.target.value})},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(H.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(H.jsxs)(de.a,{container:!0,children:[Object(H.jsx)(de.a,{item:!0,xs:!0,children:Object(H.jsx)(oe.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(H.jsx)(de.a,{item:!0,children:Object(H.jsx)(oe.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(H.jsx)(le.a,{mt:5,children:Object(H.jsx)(me,{})})]})]})})]}):Object(H.jsx)(j.a,{to:"/dashboard"})}}]),a}(r.a.Component),Oe=Object(u.b)((function(e){return{login:e.get("signIn").get("loginStatus")}}),(function(e){return{handleLogin:function(t,a,n,r){t.preventDefault(),e(function(e,t,a){return function(a){pe.a.post("https://ap-southeast-2.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/calorie_real_mongodb-rrzuy/service/login/incoming_webhook/login_webhook",null,{params:{email:e,pwd:t}}).then((function(e){e===[]||a(he(e.data))})).catch((function(e){return console.log(e)}))}}(a,n))}}}))(Object($.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(xe)),ge=a(404),fe=a(412),ve=a(403);function ye(){return Object(H.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(H.jsx)(oe.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var we=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Se(){var e=we();return Object(H.jsxs)(ve.a,{component:"main",maxWidth:"xs",children:[Object(H.jsx)(ee.a,{}),Object(H.jsxs)("div",{className:e.paper,children:[Object(H.jsx)(C.a,{className:e.avatar,children:Object(H.jsx)(ue.a,{})}),Object(H.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(H.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(H.jsxs)(de.a,{container:!0,spacing:2,children:[Object(H.jsx)(de.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(ce.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(H.jsx)(de.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(ce.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(H.jsx)(de.a,{item:!0,xs:12,children:Object(H.jsx)(ce.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(H.jsx)(de.a,{item:!0,xs:12,children:Object(H.jsx)(ce.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})}),Object(H.jsx)(de.a,{item:!0,xs:12,children:Object(H.jsx)(ge.a,{control:Object(H.jsx)(fe.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(H.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(H.jsx)(de.a,{container:!0,justifyContent:"flex-end",children:Object(H.jsx)(de.a,{item:!0,children:Object(H.jsx)(oe.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(H.jsx)(le.a,{mt:5,children:Object(H.jsx)(ye,{})})]})}var Ce,ke=a(116),De=a(405),Ie=a(409),Ne=a(410),_e=a(209),Be={rules:[{type:"object",required:!0,message:"Please select time!"}]},Le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={weight:"",calorieIntake:"",date:""},n.handleDateChange=n.handleDateChange.bind(Object(ke.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleDateChange",value:function(e){try{this.setState({date:e.format("YYYY-MM-DD")})}catch(t){this.setState({date:""})}}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("div",{className:t.root,children:[Object(H.jsx)(ee.a,{}),Object(H.jsx)(Z,{}),Object(H.jsxs)("main",{className:t.content,children:[Object(H.jsx)("div",{className:t.appBarSpacer}),Object(H.jsxs)("div",{children:[Object(H.jsx)("h1",{children:"recorder"}),Object(H.jsxs)(De.a,{labelCol:{span:4},wrapperCol:{span:8},layout:"horizontal",children:[Object(H.jsx)(De.a.Item,Object(h.a)(Object(h.a)({name:"date-picker",label:"Date"},Be),{},{children:Object(H.jsx)(Ie.a,{onChange:this.handleDateChange})})),Object(H.jsxs)(De.a.Item,{label:"Weight",children:[Object(H.jsx)(Ne.a,{style:{width:"80%"},min:"10",max:"200",step:"0.1",onChange:function(t){return e.setState({weight:t})},value:this.state.weight}),"\xa0Kg"]}),Object(H.jsxs)(De.a.Item,{label:"Calorie Intake",children:[Object(H.jsx)(Ne.a,{style:{width:"80%"},min:"0",max:"5000",step:"1",onChange:function(t){return e.setState({calorieIntake:t})},value:this.state.calorieIntake}),"\xa0 cal"]})]}),Object(H.jsx)(_e.a,{type:"primary",html:"submit",onClick:function(){return e.props.handleSubmitRecorder(e.props.email,e.state.date,e.state.weight,e.state.calorieIntake)},children:"submit"})]})]})]})})}}]),a}(r.a.Component),Re=Object(u.b)((function(e){return{email:e.get("signIn").get("userInfo").email}}),(function(e){return{handleSubmitRecorder:function(t,a,n,r){var i,c,o,s;e((i=t,c=a,o=n,s=r,console.log(i,c,o,s),function(e){pe.a.post("https://ap-southeast-2.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/calorie_real_mongodb-rrzuy/service/insert/incoming_webhook/insert_recorder_webhook",null,{params:{email:i,date:c,weight:o,calorieIntake:s}}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}))}}}))(Object($.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}))(Le)),Fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(H.jsx)("h1",{children:"Setting"})}}]),a}(r.a.Component),We=Object(u.b)((function(e){return{}}),(function(e){return{}}))(Fe),Pe=a(200),Ye=a(201).a.div(Ce||(Ce=Object(Pe.a)(["\n    height: 50%;\n    width: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n"])));function Je(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(Ye,{children:Object(H.jsx)("img",{alt:"404",src:"https://illustatus.herokuapp.com/?title=Oops,%20Page%20not%20found&fill=%234f86ed"})})})}var Ee=a(143),Me=a(204),Te=a(205),qe=a(74),ze=Object(qe.fromJS)({loginStatus:!1,userInfo:""});var Ae=Object(qe.fromJS)({userData:"",recorders:[],dailyLimitation:""});var Ge=Object(Te.combineReducers)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"load_user_info":return e.merge({userInfo:t.data,loginStatus:!0});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"load_user_recorders":return e.set("recorders",Object(qe.fromJS)(t.value));case"loading_daily_limitation":return e.set("dailyLimitation",Object(qe.fromJS)(t.value));default:return e}}}),Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.b,He=Object(Ee.c)(Ge,Ue(Object(Ee.a)(Me.a)));var Ve=function(){return Object(H.jsx)("div",{className:"App",children:Object(H.jsx)(u.a,{store:He,children:Object(H.jsx)(x.a,{children:Object(H.jsxs)(j.d,{children:[Object(H.jsx)(j.b,{path:"/",exact:!0,component:Oe}),Object(H.jsx)(j.b,{path:"/dashboard",exact:!0,component:re}),Object(H.jsx)(j.b,{path:"/record",exact:!0,component:Re}),Object(H.jsx)(j.b,{path:"/setting",exact:!0,component:We}),Object(H.jsx)(j.b,{path:"/register",exact:!0,component:Se}),Object(H.jsx)(j.b,{path:"*",exact:!0,component:Je})]})})})})},Xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,419)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(Ve,{})}),document.getElementById("root")),Xe()}},[[347,1,2]]]);
//# sourceMappingURL=main.20e61974.chunk.js.map